# CPA λ°μ΄ν„°μ…‹ μμ • λ„κµ¬

κ³µμΈνκ³„μ‚¬(CPA) μ‹ν— κΈ°μ¶λ¬Έν•­ JSONL λ°μ΄ν„°λ¥Ό **μ—΄λΒ·νΈμ§‘Β·κ²€μ¦**ν•λ” Streamlit κΈ°λ° μ›Ή λ„κµ¬μ…λ‹λ‹¤.

---

## μ£Όμ” κΈ°λ¥

| κΈ°λ¥ | μ„¤λ… |
|------|------|
| **λ¬Έν•­ νΈμ§‘** | μ—°λ„Β·κ³Όλ©λ³„λ΅ λ¬Έν•­μ„ μ„ νƒν•΄ JSONμ„ μ§μ ‘ μμ •Β·μ €μ¥ |
| **μ‹ κ· λ¬Έν•­ μ¶”κ°€** | Gemini λ“±μΌλ΅ μ¶”μ¶ν• JSONLμ„ λ¶™μ—¬λ„£μ–΄ μΌκ΄„ μ¶”κ°€ |
| **μ •λ‹µν‘ vs λ°μ΄ν„° μΌμΉ ν™•μΈ** | μ •λ‹µν‘λ¥Ό λ¶™μ—¬λ„£κ±°λ‚ ν‘μ—μ„ μ§μ ‘ μ…λ ¥ν•΄ μ‹¤μ  μ •λ‹µκ³Ό ν•λμ— λΉ„κµΒ·μμ • |
| **PDF μ›λ¬Έ λ·°μ–΄** | λ¬Έμ  PDF, μ •λ‹µ PDFλ¥Ό μ•± μ•μ—μ„ λ°”λ΅ ν™•μΈ |
| **JSONL λ‹¤μ΄λ΅λ“** | μ„ νƒν• μ—°λ„Β·κ³Όλ©λ§ JSONL νμΌλ΅ λ‚΄λ ¤λ°›κΈ° |
| **μ¤λ¥ λ¦¬ν¬νΈ** | λ„λ½ λ¬Έν•­ λ©λ΅ ν™•μΈ λ° μ™„λ£ μ²΄ν¬ |
| **μλ™ λ°±μ—…** | μ €μ¥ μ‹ `backups/` ν΄λ”μ— νƒ€μ„μ¤νƒ¬ν”„ λ°±μ—… μλ™ μƒμ„± |

---

## ν΄λ” κµ¬μ΅°

```
CPA_datasets/
β”β”€β”€ app.py                          # Streamlit μ•± (μ§„μ…μ )
β”β”€β”€ cpa_2016_2025_combined.jsonl    # λ©”μΈ λ°μ΄ν„° νμΌ (2016~2025 κΈ°μ¶)
β”β”€β”€ cpa_2012_2015.jsonl             # λ³΄μ΅° λ°μ΄ν„° νμΌ (2012~2015 κΈ°μ¶)
β”β”€β”€ data/
β”‚   β”β”€β”€ raw_pdfs/                   # μ—°λ„λ³„ λ¬Έμ Β·μ •λ‹µ PDF
β”‚   β”‚   β”β”€β”€ 16λ…„/                   # μ: 16λ…„/κ²½μν•™.pdf, 16λ…„/μ •λ‹µ.pdf
β”‚   β”‚   β”β”€β”€ 17λ…„/
β”‚   β”‚   β””β”€β”€ ...
β”‚   β”β”€β”€ error_report.md             # λ„λ½ λ¬Έν•­ μ¤λ¥ λ¦¬ν¬νΈ
β”‚   β””β”€β”€ uploads/                    # PDF μ§μ ‘ μ—…λ΅λ“ μ„μ‹ ν΄λ”
β”β”€β”€ backups/                        # μλ™ λ°±μ—… (μ €μ¥ μ‹ μƒμ„±)
β””β”€β”€ README.md
```

- **`DATA_FILE`** (κΈ°λ³Έκ°’: `cpa_2016_2025_combined.jsonl`)  
  μ•±μ΄ μ½κ³  μ“°λ” λ©”μΈ JSONL νμΌμ…λ‹λ‹¤. `app.py` μƒλ‹¨μ—μ„ λ³€κ²½ν•  μ μμµλ‹λ‹¤.
- **`data/raw_pdfs/`**  
  μ—°λ„λ³„ ν΄λ”(μ: `16λ…„/`) μ•μ— κ³Όλ©λ³„ λ¬Έμ  PDF, μ •λ‹µ PDFλ¥Ό λ„£μΌλ©΄ μ•±μ—μ„ μλ™ κ²€μƒ‰ν•©λ‹λ‹¤.

---

## μ„¤μΉ λ° μ‹¤ν–‰

### 1. μμ΅΄μ„± μ„¤μΉ

```bash
pip install streamlit pandas pdfplumber
```

### 2. μ‹¤ν–‰

```bash
cd CPA_datasets
streamlit run app.py
```

λΈλΌμ°μ €μ—μ„ `http://localhost:8501` λ΅ μ ‘μ†ν•©λ‹λ‹¤.

### 3. λ°μ΄ν„° νμΌ λ³€κ²½ (μ„ νƒ)

λ‹¤λ¥Έ JSONL νμΌμ„ μ‚¬μ©ν•λ ¤λ©΄ `app.py` μƒλ‹¨μ `DATA_FILE`μ„ μμ •ν•μ„Έμ”:

```python
DATA_FILE = "cpa_2012_2015.jsonl"   # 2012~2015 λ°μ΄ν„°λ΅ λ³€κ²½
```

---

## μ‚¬μ©λ²•

### μ—°λ„Β·κ³Όλ© μ„ νƒ

1. μ™Όμ½ μ‚¬μ΄λ“λ°”μ—μ„ **μ—°λ„**μ™€ **κ³Όλ©**μ„ μ„ νƒν•©λ‹λ‹¤.
2. ν•΄λ‹Ή μ—°λ„Β·κ³Όλ©μ λ¬Έν•­ μκ°€ ν‘μ‹λ©λ‹λ‹¤.
3. μ‚¬μ΄λ“λ°” ν•λ‹¨μ **γ€π“„ JSONLγ€** λ²„νΌμΌλ΅ ν•΄λ‹Ή λ¶€λ¶„λ§ λ‹¤μ΄λ΅λ“ν•  μ μμµλ‹λ‹¤.

### λ¬Έν•­ νΈμ§‘

1. **γ€π“ κΈ°μ΅΄ λ¬Έν•­ μμ •γ€** νƒ­μ—μ„ λ¬Έν•­ λ²νΈλ¥Ό μ„ νƒν•©λ‹λ‹¤.
2. JSON νΈμ§‘κΈ°μ—μ„ λ‚΄μ©μ„ μμ •ν• λ’¤ **γ€π’Ύ μ €μ¥γ€** μ„ λ„λ¦…λ‹λ‹¤.
3. μ €μ¥ μ‹ μλ™μΌλ΅ λ°±μ—…μ΄ μƒμ„±λ©λ‹λ‹¤.

### μ‹ κ· λ¬Έν•­ μ¶”κ°€

1. **γ€β• μ‹ κ· λ¬Έν•­ μ¶”κ°€γ€** νƒ­μ—μ„ JSONL ν…μ¤νΈλ¥Ό λ¶™μ—¬λ„£μµλ‹λ‹¤.
2. νμ‹± κ²°κ³Όλ¥Ό ν™•μΈν•κ³  **μΌκ΄„ μ¶”κ°€** λλ” **λ®μ–΄μ“°κΈ°** λ²„νΌμ„ λ„λ¦…λ‹λ‹¤.

### μ •λ‹µν‘ ν™•μΈΒ·μμ •

1. **γ€π“‹ μ •λ‹µν‘ vs λ°μ΄ν„° μΌμΉγ€** νƒ­μΌλ΅ μ΄λ™ν•©λ‹λ‹¤.
2. μ •λ‹µν‘λ¥Ό λ¶™μ—¬λ„£κ±°λ‚(μ: `1 β‘ `, `2 β‘΅`) λΉ„κµ ν‘μ—μ„ μ§μ ‘ μ…λ ¥ν•©λ‹λ‹¤.
3. **γ€π’Ύ νΈμ§‘ν• μ •λ‹µν‘λ΅ λ°μ ν›„ μ €μ¥γ€** μ„ λ„λ¥΄λ©΄ λ°μ΄ν„°μ— λ°μλ©λ‹λ‹¤.

### PDF μ›λ¬Έ ν™•μΈ

- μ™Όμ½ **λ¬Έμ ** / **μ •λ‹µ** νƒ­μ—μ„ PDFλ¥Ό λ°”λ΅ λ³Ό μ μμµλ‹λ‹¤.
- PDFκ°€ μλ™ κ²€μƒ‰λμ§€ μ•μΌλ©΄ μ‚¬μ΄λ“λ°” **β™οΈ PDF μ„¤μ •**μ—μ„ μ§μ ‘ μ—…λ΅λ“ν•©λ‹λ‹¤.

---

## λ°μ΄ν„° ν•μ‹ (JSONL)

ν• μ¤„μ— ν•λ‚μ JSON κ°μ²΄:

```json
{
  "conversation": [
    {"role": "user", "content": "λ‹¤μμ€ 2024λ…„ κ³µμΈνκ³„μ‚¬ μ‹ν— κ²½μ μ›λ΅  λ¬Έμ μ…λ‹λ‹¤.\n\n1. ..."},
    {"role": "assistant", "content": "μ •λ‹µ: β‘ "}
  ],
  "metadata": {
    "year": "2024",
    "subject": "κ²½μ μ›λ΅ ",
    "question_number": 1,
    "source": "cpa_exam"
  },
  "unique_id": "cpa_2024_κ²½μ μ›λ΅ _1"
}
```

| ν•„λ“ | μ„¤λ… |
|------|------|
| `conversation` | `[user(λ¬Έμ ), assistant(μ •λ‹µ)]` μµμ† 2κ° λ©”μ‹μ§€ |
| `metadata.year` | μ‹ν— μ—°λ„ (λ¬Έμμ—΄) |
| `metadata.subject` | κ³Όλ©λ… (κ²½μν•™, κ²½μ μ›λ΅ , νκ³„ν•™, μ„Έλ²•, μƒλ²• λ“±) |
| `metadata.question_number` | λ¬Έν•­ λ²νΈ (μ •μ) |
| `unique_id` | `cpa_{μ—°λ„}_{κ³Όλ©}_{λ²νΈ}` ν•μ‹μ κ³ μ  ID |
